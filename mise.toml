[tasks.format]
description = "Format Nix files"
run = "fd -e nix -x nixfmt"

[tasks.verify]
description = "Verify configuration (format + check + build)"
run = """
fd -e nix -x nixfmt && \
nix flake check && \
darwin-rebuild build --flake ~/.config/nix-darwin
"""

[tasks.apply]
description = "Apply nix-darwin configuration (requires sudo)"
run = "sudo darwin-rebuild switch --flake ~/.config/nix-darwin"

[tasks.check]
description = "Check flake configuration"
run = "nix flake check"
